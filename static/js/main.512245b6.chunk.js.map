{"version":3,"sources":["routes/login/index.js","model/meal.js","components/editMeal/index.js","model/date.js","routes/home/index.js","routes/settings/index.js","utils/debouncer.js","routes/statistics/index.js","routes/history/index.js","components/appBar/index.js","routes/index.js","App.js","registerServiceWorker.js","index.js","../config/polyfills.js"],"names":["routes_login","_this","this","setState","isLoading","JSON","parse","localStorage","getItem","unsubscribeAuthStateChanged","Object","index_cjs","onAuthStateChanged","user","ref","uid","setItem","stringify","pathname","props","location","state","from","history","replace","signInWithRedirect","FacebookAuthProvider","react_default","a","createElement","className","src","alt","index_es","variant","onClick","login","disabled","color","react","fetchMeals","_ref","start","end","_ref$ascending","ascending","child","orderByChild","startAt","endAt","once","then","snapshot","meals","forEach","mealSnapshot","push","_objectSpread","val","id","key","reverse","src_components_editMeal","handleTitleChanged","event","title","target","value","meal","editMeal_objectSpread","handleMealTypeChanged","type","handleConfirm","_this$state","isEditing","update","updateMeal","date","ServerValue","TIMESTAMP","addMeal","onConfirm","handleOnRemoveClicked","showRemoveConfirmDialog","handleCancelRemove","handleConfirmRemove","remove","onRemove","onCancel","_this$state2","addButtonEnabled","open","label","onChange","margin","helperText","style","position","top","right","autoComplete","minWidth","htmlFor","input","name","concat","dateRangeOfToday","now","Date","getFullYear","getMonth","getDate","getTime","dateRangeOfWeek","fromDate","day","diff","getDay","setDate","routes_home","showAddModal","isFetching","handleAddMealClicked","handleCloseModal","editMeal","handleMealClicked","handleMealConfirmed","map","m","handleRemoveMeal","filter","_this2","mounted","isError","console","log","catch","error","_this3","gutterBottom","length","primary","secondary","marginRight","settings_SettingsPage","goalValue","mealTypeButtonRef","handleGoalPercentageChanged","setGoalPercentageDebouncer","goalPercentage","handleMealTypeClick","handleMealTypeMenuClose","handleMealTypeSelected","getAttribute","textContent","goalMealType","goalRef","set","signOut","clear","window","href","goal","percentage","mealType","delay","fn","Error","timer","destroyed","debouncer","clearTimeout","setTimeout","apply","Array","prototype","slice","call","arguments","destroy","debounce","Math","round","classes","goalContainer","Slider_default","anchorEl","Boolean","onClose","origin","handleSignout","routes_settings","styles","display","alignItems","flexShrink","statistics_Statistic","width","parseFloat","toFixed","routes_statistics","stats","handleTabClicked","loadMeals","dateRangeOfYear","numMealsTowardGoal","numMealsToReachGoal","warn","dateRange","cacheKey","onComplete","promise","cancelLoading","Promise","resolve","callback","cancelled","data","cancellable","meat","vegetarian","vegan","junkFood","calculateStats","str","indicatorColor","textColor","scrollable","scrollButtons","undefined","charAt","toUpperCase","toLowerCase","src_routes_history","sections","section","setMeals","showModal","subheader","toLocaleDateString","appBar_MyAppBar","openMenu","path","closeMenu","aria-label","tabIndex","role","component","dense","button","photoURL","displayName","navigateTo","padding","appBar","withRouter","routes_AuthenticatedRoute","Route","Redirect","to","routes","BrowserRouter","basename","Switch","exact","theme","src_App","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","isLocalhost","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","react_dom_default","render","document","getElementById","URL","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","__webpack_require__","enable","assign"],"mappings":"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","file":"static/js/main.512245b6.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport './index.css';\nimport { auth, database } from 'firebase';\n\nclass Login extends Component {\n  UNSAFE_componentWillMount() {\n    this.setState({\n      isLoading: JSON.parse(localStorage.getItem('isReturningUser'))\n    });\n\n    this.unsubscribeAuthStateChanged = auth().onAuthStateChanged(user => {\n      if (!user) {\n        this.setState({\n          isLoading: false\n        });\n        return;\n      }\n\n      auth().user = user;\n      database().user = database().ref(user.uid);\n      localStorage.setItem('user', JSON.stringify(user));\n\n      const pathname =\n        (this.props.location &&\n          this.props.location.state &&\n          this.props.location.state.from &&\n          this.props.location.state.from.pathname) ||\n        '/home';\n\n      this.props.history.replace(pathname);\n    });\n  }\n\n  UNSAFE_componentWillUnmount() {\n    this.unsubscribeAuthStateChanged();\n  }\n\n  async login() {\n    localStorage.setItem('isReturningUser', true);\n    auth().signInWithRedirect(new auth.FacebookAuthProvider());\n  }\n\n  render() {\n    const { isLoading } = this.state;\n\n    return (\n      <div className=\"login-page\">\n        <div className=\"login-page-background-container\">\n          <img\n            className=\"login-page-background-image\"\n            src=\"img/loginpage1.jpg\"\n            alt=\"login page\"\n          />\n          <div className=\"login-page-background-overlay\" />\n        </div>\n\n        <div className=\"login-page-content\">\n          <div className=\"login-page-title\">Food Journal</div>\n          <p className=\"login-page-subtitle\">keeping track of what you eat</p>\n          <Button variant=\"contained\" onClick={this.login} disabled={isLoading}>\n            Login with facebook\n          </Button>\n\n          {isLoading ? <CircularProgress color=\"secondary\" /> : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import { database } from 'firebase';\n\nexport function addMeal(meal) {\n  database()\n    .user.child('meals')\n    .push({ ...meal, date: database.ServerValue.TIMESTAMP });\n}\n\nexport function updateMeal(meal) {\n  database()\n    .user.child('meals')\n    .child(meal.id)\n    .update(meal);\n}\n\nexport function removeMeal(meal) {\n  database()\n    .user.child('meals')\n    .child(meal.id)\n    .remove();\n}\n\nexport function fetchMeals({ start, end, ascending = true }) {\n  return database()\n    .user.child('meals')\n    .orderByChild('date')\n    .startAt(start)\n    .endAt(end)\n    .once('value')\n    .then(snapshot => {\n      const meals = [];\n      snapshot.forEach(mealSnapshot => {\n        meals.push({\n          ...mealSnapshot.val(),\n          id: mealSnapshot.key\n        });\n      });\n\n      if (!ascending) {\n        return meals.reverse();\n      }\n\n      return meals;\n    });\n}\n","import React, { Component } from 'react';\nimport {\n  Button,\n  Dialog,\n  DialogContent,\n  DialogActions,\n  DialogTitle,\n  DialogContentText,\n  TextField,\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  Input,\n  Select,\n  MenuItem\n} from '@material-ui/core';\nimport { updateMeal, addMeal, removeMeal } from '../../model/meal';\nimport './index.css';\n\nclass EditMeal extends Component {\n  state = {};\n\n  UNSAFE_componentWillMount() {\n    // copy the passed in meal for editing, or create a new one\n    this.setState({\n      meal: { ...this.props.meal },\n      isEditing: !!this.props.meal\n    });\n  }\n\n  handleTitleChanged = event => {\n    const title = event.target.value;\n    const meal = { ...this.state.meal, title };\n    this.setState({ meal });\n  };\n  handleMealTypeChanged = event => {\n    const type = event.target.value;\n    const meal = { ...this.state.meal, type };\n    this.setState({ meal });\n  };\n\n  handleConfirm = () => {\n    const { meal, isEditing } = this.state;\n\n    if (isEditing) {\n      updateMeal(meal);\n    } else {\n      addMeal(meal);\n    }\n\n    this.props.onConfirm(meal);\n  };\n\n  handleOnRemoveClicked = () => {\n    this.setState({\n      showRemoveConfirmDialog: true\n    });\n  };\n\n  handleCancelRemove = () => {\n    this.setState({\n      showRemoveConfirmDialog: false\n    });\n  };\n  handleConfirmRemove = () => {\n    this.setState({\n      showRemoveConfirmDialog: false\n    });\n    removeMeal(this.state.meal);\n    this.props.onRemove(this.props.meal);\n  };\n\n  render() {\n    const { onCancel } = this.props;\n    const { meal, isEditing, showRemoveConfirmDialog } = this.state;\n    const addButtonEnabled = !!meal.type && !!meal.title;\n    return (\n      <Dialog open={true}>\n        <DialogTitle>{isEditing ? 'Edit Meal' : 'Add Meal'}</DialogTitle>\n\n        <DialogContent>\n          <div>\n            <TextField\n              label=\"Name of meal\"\n              value={meal.title || ''}\n              onChange={this.handleTitleChanged}\n              margin=\"normal\"\n              helperText=\"required\"\n            />\n          </div>\n\n          {isEditing ? (\n            <Button\n              style={{\n                position: 'absolute',\n                top: 20,\n                right: 20\n              }}\n              color=\"secondary\"\n              onClick={this.handleOnRemoveClicked}\n            >\n              Remove\n            </Button>\n          ) : null}\n\n          <form className=\"edit-meal-type-form\" autoComplete=\"off\">\n            <FormControl\n              style={{\n                minWidth: 120\n              }}\n            >\n              <InputLabel htmlFor=\"edit-meal-type\">Meal Type</InputLabel>\n              <Select\n                value={meal.type || ''}\n                onChange={this.handleMealTypeChanged}\n                input={<Input name=\"Meal Type\" id=\"edit-meal-type\" />}\n              >\n                <MenuItem value={'junk'}>Junk food</MenuItem>\n                <MenuItem value={'meat'}>Meat</MenuItem>\n                <MenuItem value={'vegan'}>Vegan</MenuItem>\n                <MenuItem value={'vegetarian'}>Vegetarian</MenuItem>\n              </Select>\n\n              <FormHelperText>required</FormHelperText>\n            </FormControl>\n          </form>\n\n          <DialogActions>\n            <Button color=\"primary\" onClick={onCancel}>\n              Cancel\n            </Button>\n            <Button\n              color=\"primary\"\n              onClick={this.handleConfirm}\n              disabled={!addButtonEnabled}\n            >\n              {isEditing ? 'Confirm' : 'Add'}\n            </Button>\n          </DialogActions>\n        </DialogContent>\n\n        {showRemoveConfirmDialog ? (\n          <Dialog open={true}>\n            <DialogTitle>{`Remove ${meal.title}?`}</DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                Are you sure you want to delete {meal.title}?\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={this.handleCancelRemove} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.handleConfirmRemove} color=\"secondary\">\n                Remove\n              </Button>\n            </DialogActions>\n          </Dialog>\n        ) : null}\n      </Dialog>\n    );\n  }\n}\n\nexport default EditMeal;\n","export function dateRangeOfToday() {\n  const now = new Date();\n  const startOfToday = new Date(\n    now.getFullYear(),\n    now.getMonth(),\n    now.getDate()\n  ).getTime();\n\n  const endOfToday = new Date(\n    now.getFullYear(),\n    now.getMonth(),\n    now.getDate(),\n    23,\n    59,\n    59\n  ).getTime();\n\n  return {\n    start: startOfToday,\n    end: endOfToday\n  };\n}\n\nfunction getMonday(fromDate) {\n  fromDate = new Date(fromDate);\n  const day = fromDate.getDay();\n  const diff = fromDate.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n  return new Date(fromDate.setDate(diff));\n}\n\nexport function dateRangeOfWeek() {\n  const now = new Date();\n  const prevMonday = getMonday(now);\n  return {\n    start: prevMonday.getTime(),\n    end: now.getTime()\n  };\n}\n\nexport function dateRangeOfMonth() {\n  const now = new Date();\n  const startOfMonth = new Date(now.getFullYear(), now.getMonth());\n  return {\n    start: startOfMonth.getTime(),\n    end: now.getTime()\n  };\n}\n\nexport function dateRangeOfYear() {\n  const now = new Date();\n  const startOfYear = new Date(now.getFullYear(), 0);\n  return {\n    start: startOfYear.getTime(),\n    end: now.getTime()\n  };\n}\n","import React, { Component } from 'react';\nimport './index.css';\nimport {\n  Button,\n  Icon,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Modal,\n  CircularProgress\n} from '@material-ui/core';\nimport EditMeal from '../../components/editMeal';\nimport { fetchMeals } from '../../model/meal';\nimport { dateRangeOfToday } from '../../model/date';\n\nclass Home extends Component {\n  state = {\n    showAddModal: false,\n    isFetching: true,\n    meals: null\n  };\n  UNSAFE_componentWillMount() {\n    this.mounted = true;\n\n    this.setState({ isFetching: true, isError: false });\n\n    fetchMeals(dateRangeOfToday())\n      .then(meals => {\n        if (!this.mounted) {\n          return;\n        }\n        console.log('got meals', meals);\n        this.setState({\n          meals,\n          isFetching: false\n        });\n      })\n      .catch(error => {\n        if (!this.mounted) {\n          return;\n        }\n\n        this.setState({\n          isFetching: false,\n          isError: true\n        });\n        console.error('error fetching meals', error);\n      });\n  }\n\n  UNSAFE_componentWillUnmount() {\n    this.mounted = true;\n  }\n\n  handleAddMealClicked = () => {\n    this.setState({ showAddModal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ showAddModal: false, editMeal: null });\n  };\n\n  handleMealClicked = meal => {\n    this.setState({\n      showAddModal: true,\n      editMeal: meal\n    });\n  };\n\n  handleMealConfirmed = meal => {\n    const prevMeals = this.state.meals || [];\n    const meals = prevMeals.map(m => {\n      // update with new data\n      if (m.id === meal.id) {\n        return meal;\n      }\n\n      return m;\n    });\n\n    if (!meal.id) {\n      meal.id = Date.now(); //temp id\n      meals.push(meal);\n    }\n\n    this.setState({ meals, showAddModal: false });\n  };\n  handleRemoveMeal = meal => {\n    const meals = this.state.meals.filter(m => m.id !== meal.id);\n    this.setState({ meals, showAddModal: false, editMeal: null });\n  };\n\n  render() {\n    const { meals, showAddModal, editMeal, isFetching } = this.state;\n\n    return (\n      <div className=\"home-page\">\n        <div className=\"home-page-content\">\n          <Typography variant=\"display1\" gutterBottom>\n            Today\n          </Typography>\n\n          {isFetching ? (\n            <CircularProgress color=\"secondary\" />\n          ) : (\n            <List>\n              {meals && meals.length ? (\n                meals.map(meal => (\n                  <ListItem\n                    key={meal.id}\n                    onClick={() => {\n                      this.handleMealClicked(meal);\n                    }}\n                  >\n                    <ListItemText primary={meal.title} secondary={meal.type} />\n                  </ListItem>\n                ))\n              ) : (\n                <Typography>\n                  You haven't added any meals today. Add some meals by clicking\n                  on the button below.\n                </Typography>\n              )}\n            </List>\n          )}\n        </div>\n\n        <Modal open={showAddModal}>\n          <EditMeal\n            meal={editMeal}\n            onConfirm={this.handleMealConfirmed}\n            onCancel={this.handleCloseModal}\n            onRemove={this.handleRemoveMeal}\n          />\n        </Modal>\n\n        <div className=\"home-page-add-button-container\">\n          <Button variant=\"extendedFab\" onClick={this.handleAddMealClicked}>\n            <Icon style={{ marginRight: 10 }}>add</Icon>\n            Add Meal\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport { Button, Typography, Menu, MenuItem } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/lab/Slider';\nimport { auth, database } from 'firebase';\nimport debounce from '../../utils/debouncer';\nimport './index.css';\n\nconst styles = {\n  goalContainer: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  goalPercentage: {\n    marginRight: 10\n  },\n  goalMealType: {\n    flexShrink: 0\n  }\n};\n\nclass SettingsPage extends Component {\n  state = {\n    goalValue: 0,\n    mealTypeButtonRef: null\n  };\n\n  handleGoalPercentageChanged = (event, value) => {\n    this.setGoalPercentageDebouncer(value);\n    this.setState({ goalPercentage: value });\n  };\n  handleMealTypeClick = event => {\n    this.setState({ mealTypeButtonRef: event.target });\n  };\n  handleMealTypeMenuClose = () => {\n    this.setState({ mealTypeButtonRef: null });\n  };\n  handleMealTypeSelected = event => {\n    const value = event.target.getAttribute('value');\n    const title = event.target.textContent;\n    this.setState({ mealTypeButtonRef: null, goalMealType: title });\n    this.goalRef.child('mealType').set(value);\n  };\n\n  handleSignout() {\n    auth()\n      .signOut()\n      .then(() => {\n        localStorage.clear();\n        window.location.href = window.location.href; // refresh\n      })\n      .catch(error => {\n        console.error('error signing out', error);\n      });\n  }\n\n  UNSAFE_componentWillMount() {\n    this.mounted = true;\n    this.goalRef = database().user.child('goal');\n    this.goalRef\n      .once('value')\n      .then(snapshot => {\n        if (!this.mounted) {\n          return;\n        }\n\n        const goal = snapshot.val();\n        if (goal) {\n          this.setState({\n            goalPercentage: goal.percentage,\n            goalMealType: goal.mealType\n          });\n        }\n      })\n      .catch(error => {\n        if (!this.mounted) {\n          return;\n        }\n        console.error('error fetching goal');\n      });\n\n    this.setGoalPercentageDebouncer = debounce(500, percentage => {\n      percentage = Math.round(percentage);\n      console.log('setting goal percentage to', percentage);\n      this.goalRef.child('percentage').set(percentage);\n    });\n  }\n  UNSAFE_componentWillUnmount() {\n    this.mounted = false;\n    this.setGoalPercentageDebouncer.destroy();\n  }\n\n  render() {\n    const { goalPercentage, goalMealType, mealTypeButtonRef } = this.state;\n    const { classes } = this.props;\n\n    return (\n      <div className=\"settings-page\">\n        <Typography variant=\"display1\" gutterBottom>\n          Settings\n        </Typography>\n\n        <div>\n          <Typography>\n            What percentage of a specific kind of meal type would you like as\n            your goal?\n          </Typography>\n\n          <div className={classes.goalContainer}>\n            <Slider\n              style={{ marginRight: 20 }}\n              value={goalPercentage || 0}\n              onChange={this.handleGoalPercentageChanged}\n            />\n            <Typography\n              variant=\"subheading\"\n              className={classes.goalPercentage}\n            >{`${Math.round(goalPercentage)}%`}</Typography>\n\n            <Button\n              onClick={this.handleMealTypeClick}\n              className={classes.goalMealType}\n            >\n              {goalMealType ? goalMealType : 'Meal Type'}\n            </Button>\n            <Menu\n              anchorEl={mealTypeButtonRef}\n              open={Boolean(mealTypeButtonRef)}\n              onClose={this.handleMealTypeMenuClose}\n            >\n              <MenuItem value=\"junk\" onClick={this.handleMealTypeSelected}>\n                Junk Food\n              </MenuItem>\n              <MenuItem value=\"meat\" onClick={this.handleMealTypeSelected}>\n                Meat\n              </MenuItem>\n              <MenuItem value=\"vegan\" onClick={this.handleMealTypeSelected}>\n                Vegan\n              </MenuItem>\n              <MenuItem\n                value=\"vegetarian\"\n                onClick={this.handleMealTypeSelected}\n              >\n                Vegetarian\n              </MenuItem>\n            </Menu>\n          </div>\n        </div>\n\n        <div className=\"settings-page-link-container\">\n          <a\n            className=\"settings-page-link\"\n            href={`${window.location.origin +\n              (process.env.PUBLIC_URL || '')}/privacy-policy.html`}\n          >\n            Privacy Policy\n          </a>\n\n          <a\n            className=\"settings-page-link\"\n            href={`${window.location.origin +\n              (process.env.PUBLIC_URL || '')}/terms-of-service.html`}\n          >\n            Terms of Service\n          </a>\n        </div>\n\n        <Button variant=\"raised\" color=\"secondary\" onClick={this.handleSignout}>\n          Sign out\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(SettingsPage);\n","/**\n * @example\n * const debouncer = debounce(1000, (myArg) => {\n *   console.log('i am debounced with ', myArg);\n * });\n *\n * debouncer(1);\n * debouncer(2);\n * debouncer(3);\n *\n * // one second later...\n * //prints \"i am debounced with 3\"\n *\n * @param {number} delay - milliseconds to delay the call\n * @param {function} fn - the callback to be fired when delay fires\n * @return {function} a function to call multiple times\n */\nexport default function debounce(delay, fn) {\n  if (typeof delay !== 'number') {\n    throw new Error('you must pass in a number');\n  }\n\n  if (typeof fn !== 'function') {\n    throw new Error('you must pass in a function');\n  }\n\n  let timer;\n  let destroyed = false;\n\n  /**\n   * A debouncer function that wraps the function you passed in. Will add\n   * a delay to your called method unless you call destroy, in which case\n   * your function wont fire.\n   */\n  function debouncer() {\n    if (destroyed) {\n      return;\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout.apply(null, [fn, delay, ...arguments]);\n  }\n\n  /**\n   * Destroy the debouncer. This will ensure that your debounced function\n   * will never get called again. you will have to call debounce again to\n   * get a new debounced function. Useful for UI components that get destroyed.\n   */\n  debouncer.destroy = function() {\n    if (!destroyed) {\n      clearTimeout(timer);\n      timer = null;\n      destroyed = true;\n    }\n  };\n\n  return debouncer;\n}\n","import React, { Component } from 'react';\nimport { Typography, Tabs, Tab } from '@material-ui/core';\nimport { database } from 'firebase';\nimport { fetchMeals } from '../../model/meal';\nimport {\n  dateRangeOfToday,\n  dateRangeOfWeek,\n  dateRangeOfMonth,\n  dateRangeOfYear\n} from '../../model/date';\nimport './index.css';\n\nconst capitalizeFirstLetter = str => {\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n};\n\nconst calculateStats = meals => {\n  meals = meals || [];\n\n  let meat = 0;\n  let vegetarian = 0;\n  let vegan = 0;\n  let junkFood = 0;\n\n  meals.forEach(meal => {\n    if (meal.type === 'meat') meat++;\n    if (meal.type === 'vegetarian') vegetarian++;\n    if (meal.type === 'vegan') vegan++;\n    if (meal.type === 'junk') junkFood++;\n  });\n\n  return {\n    meat: (meat * 100) / meals.length,\n    vegetarian: (vegetarian * 100) / meals.length,\n    vegan: (vegan * 100) / meals.length,\n    junkFood: (junkFood * 100) / meals.length\n  };\n};\n\nconst Statistic = ({ title, value }) => (\n  <div className=\"stats-page-stat\">\n    <Typography className=\"state-page-state-title\">{title}</Typography>\n    <div className=\"stats-page-percentage-container\">\n      <div\n        className=\"stats-page-percentage-bar\"\n        style={{\n          width: (value || 0) + '%'\n        }}\n      />\n    </div>\n    <Typography style={{ display: 'inline' }}>\n      {parseFloat((value || 0).toFixed(1)) + '%'}\n    </Typography>\n  </div>\n);\n\nfunction cancellable(promise, callback) {\n  let cancelled = false;\n  promise\n    .then(data => {\n      if (cancelled) return;\n      callback(null, data);\n    })\n    .catch(error => {\n      if (cancelled) return;\n      callback(error, null);\n    });\n  return function cancel() {\n    cancelled = true;\n  };\n}\n\nclass StatisticsPage extends Component {\n  state = {\n    stats: null,\n    value: 0\n  };\n\n  loadMeals(dateRange, cacheKey, onComplete) {\n    if (this.cancelLoading) {\n      this.cancelLoading();\n      this.cancelLoading = null;\n    }\n\n    let promise;\n\n    if (this[cacheKey]) {\n      promise = Promise.resolve(this[cacheKey]);\n    } else {\n      promise = fetchMeals(dateRange);\n    }\n\n    this.setState({\n      isLoading: true,\n      error: null,\n      meals: null\n    });\n\n    this.cancelLoading = cancellable(promise, (error, meals) => {\n      console.log('got meals', meals);\n      this.setState({\n        error,\n        stats: calculateStats(meals),\n        isLoading: false\n      });\n      this[cacheKey] = meals;\n\n      if (typeof onComplete === 'function') {\n        onComplete(error, meals);\n      }\n    });\n  }\n\n  handleTabClicked = (event, value) => {\n    switch (value) {\n      case 0:\n        this.loadMeals(dateRangeOfToday(), 'today');\n        break;\n      case 1:\n        this.loadMeals(dateRangeOfWeek(), 'week');\n        break;\n      case 2:\n        this.loadMeals(dateRangeOfMonth(), 'month');\n        break;\n      case 3:\n        this.loadMeals(dateRangeOfYear(), 'year', (error, meals) => {\n          if (this.state.goal) {\n            return;\n          }\n\n          database()\n            .user.child('goal')\n            .once('value')\n            .then(snapshot => {\n              if (!this.mounted) {\n                return;\n              }\n\n              const goal = snapshot.val();\n              if (goal) {\n                const numMealsTowardGoal = meals.filter(\n                  meal => meal.type === goal.mealType\n                ).length;\n                console.log(\n                  'numMealsTowardGoal',\n                  numMealsTowardGoal,\n                  meals.length,\n                  goal\n                );\n\n                const numMealsToReachGoal = Math.round(\n                  ((goal.percentage / 100) * meals.length -\n                    numMealsTowardGoal) /\n                    (1 - goal.percentage / 100)\n                );\n\n                this.setState({\n                  numMealsToReachGoal,\n                  goal\n                });\n              }\n            })\n            .catch(error => {\n              if (!this.mounted) {\n                return;\n              }\n              console.error('error fetching goal', error);\n            });\n        });\n        break;\n      default:\n        console.warn('unhandled value', value);\n        break;\n    }\n\n    this.setState({ value });\n  };\n\n  UNSAFE_componentWillMount() {\n    this.mounted = true;\n    this.handleTabClicked(null, 0);\n  }\n  UNSAFE_componentWillUnMount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const stats = this.state.stats || {};\n    const { value, goal, numMealsToReachGoal } = this.state;\n\n    return (\n      <div className=\"stats-page\">\n        <Typography variant=\"display1\" gutterBottom>\n          Statistics\n        </Typography>\n\n        <Tabs\n          value={value}\n          onChange={this.handleTabClicked}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollable\n          scrollButtons=\"auto\"\n        >\n          <Tab label=\"Today\" />\n          <Tab label=\"Week\" />\n          <Tab label=\"Month\" />\n          <Tab label=\"Year\" />\n        </Tabs>\n\n        <div className=\"stats-page-chart\">\n          <Statistic title=\"Junk Food\" value={stats.junkFood} />\n          <Statistic title=\"Meat\" value={stats.meat} />\n          <Statistic title=\"Vegan\" value={stats.vegan} />\n          <Statistic title=\"Vegetarian\" value={stats.vegetarian} />\n        </div>\n\n        {goal && numMealsToReachGoal !== undefined ? (\n          <Typography gutterBottom>\n            {`${numMealsToReachGoal} meals to reach ${\n              goal.percentage\n            }% ${capitalizeFirstLetter(goal.mealType)}`}\n          </Typography>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default StatisticsPage;\n","import React, { Component } from 'react';\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  ListSubheader,\n  Divider,\n  Modal,\n  CircularProgress\n} from '@material-ui/core';\nimport { fetchMeals } from '../../model/meal';\nimport EditMeal from '../../components/editMeal';\nimport './index.css';\n\nclass HistoryPage extends Component {\n  state = {\n    sections: null\n  };\n\n  handleMealClicked = meal => () => {\n    this.setState({\n      editMeal: meal\n    });\n  };\n\n  UNSAFE_componentWillMount() {\n    this.mounted = true;\n\n    this.setState({ sections: null, isLoading: true, error: false });\n\n    fetchMeals({ start: 0, end: Date.now(), ascending: false })\n      .then(meals => {\n        if (!this.mounted) {\n          return;\n        }\n\n        this.setMeals(meals);\n        this.setState({ isLoading: false });\n      })\n      .catch(error => {\n        if (!this.mounted) {\n          return;\n        }\n\n        this.setState({ sections: null, isLoading: false, error: true });\n      });\n  }\n\n  handleCloseModal = () => {\n    this.setState({ editMeal: null });\n  };\n\n  handleMealConfirmed = meal => {\n    const sections = (this.state.sections || []).map(section => {\n      section.meals = section.meals.map(m => {\n        // update with new data\n        if (m.id === meal.id) {\n          return meal;\n        }\n\n        return m;\n      });\n      return section;\n    });\n\n    this.setState({ sections, editMeal: null });\n  };\n\n  handleRemoveMeal = meal => {\n    const sections = (this.state.sections || []).map(section => {\n      section.meals = section.meals.filter(m => m.id !== meal.id);\n      return section;\n    });\n\n    this.setState({ sections, editMeal: null });\n  };\n\n  setMeals(meals) {\n    const sections = [];\n\n    meals.forEach(meal => {\n      const date = new Date(meal.date);\n      let section = sections[sections.length - 1];\n\n      if (!section || date.getDate() !== section.date.getDate()) {\n        sections.push({\n          date: date,\n          meals: []\n        });\n        section = sections[sections.length - 1];\n      }\n\n      section.meals.push(meal);\n    });\n\n    this.setState({ sections });\n  }\n\n  UNSAFE_componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const { sections, editMeal, isLoading } = this.state;\n    const showModal = !!editMeal;\n\n    return (\n      <div className=\"history-page\">\n        <Typography variant=\"display1\" gutterBottom>\n          Meal History\n        </Typography>\n\n        <div>\n          {isLoading ? (\n            <CircularProgress color=\"secondary\" />\n          ) : (\n            <List subheader={<li />}>\n              {sections && sections.length\n                ? sections.map(section => (\n                    <li key={`${section.date}`}>\n                      <ul>\n                        <ListSubheader className=\"section-header\">\n                          {section.date.toLocaleDateString()}\n                        </ListSubheader>\n                        <Divider />\n\n                        {section.meals.map(meal => (\n                          <ListItem\n                            key={meal.id}\n                            onClick={this.handleMealClicked(meal)}\n                          >\n                            <ListItemText\n                              primary={meal.title}\n                              secondary={meal.type}\n                            />\n                          </ListItem>\n                        ))}\n                      </ul>\n                    </li>\n                  ))\n                : null}\n            </List>\n          )}\n        </div>\n\n        <Modal open={showModal}>\n          <EditMeal\n            meal={editMeal}\n            onRemove={this.handleRemoveMeal}\n            onConfirm={this.handleMealConfirmed}\n            onCancel={this.handleCloseModal}\n          />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default HistoryPage;\n","import React, { Component } from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Icon,\n  Drawer,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  Avatar,\n  Button,\n  Typography\n} from '@material-ui/core';\nimport { auth } from 'firebase';\nimport { withRouter } from 'react-router';\n\nclass MyAppBar extends Component {\n  state = {\n    openMenu: false\n  };\n\n  closeMenu() {\n    this.setState({ openMenu: false });\n  }\n  openMenu() {\n    this.setState({ openMenu: true });\n  }\n  navigateTo(path) {\n    this.closeMenu();\n    this.props.history.replace(path);\n  }\n\n  render() {\n    return (\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"Menu\"\n            onClick={() => {\n              this.openMenu();\n            }}\n          >\n            <Icon>menu</Icon>\n          </IconButton>\n          <div>Food Journal</div>\n        </Toolbar>\n\n        <Drawer\n          open={this.state.openMenu}\n          onClose={() => {\n            this.closeMenu();\n          }}\n        >\n          <div tabIndex={0} role=\"button\" onClick={() => {}}>\n            {auth().user ? (\n              <List component=\"nav\">\n                <ListItem dense button>\n                  <Avatar alt=\"Remy Sharp\" src={auth().user.photoURL} />\n                  <ListItemText primary={auth().user.displayName} />\n                </ListItem>\n\n                <ListItem\n                  button\n                  onClick={() => {\n                    this.navigateTo('/home');\n                  }}\n                >\n                  <ListItemIcon>\n                    <Icon>today</Icon>\n                  </ListItemIcon>\n                  <ListItemText primary=\"Today\" />\n                </ListItem>\n\n                <ListItem\n                  button\n                  onClick={() => {\n                    this.navigateTo('/history');\n                  }}\n                >\n                  <ListItemIcon>\n                    <Icon>history</Icon>\n                  </ListItemIcon>\n                  <ListItemText primary=\"History\" />\n                </ListItem>\n\n                <ListItem\n                  button\n                  onClick={() => {\n                    this.navigateTo('/statistics');\n                  }}\n                >\n                  <ListItemIcon>\n                    <Icon>bar_chart</Icon>\n                  </ListItemIcon>\n                  <ListItemText primary=\"Statistics\" />\n                </ListItem>\n\n                <ListItem\n                  button\n                  onClick={() => {\n                    this.navigateTo('/settings');\n                  }}\n                >\n                  <ListItemIcon>\n                    <Icon>settings</Icon>\n                  </ListItemIcon>\n                  <ListItemText primary=\"Settings\" />\n                </ListItem>\n              </List>\n            ) : (\n              <div\n                style={{\n                  padding: 20\n                }}\n              >\n                <Typography gutterBottom>You must be logged in.</Typography>\n                <Button\n                  onClick={() => {\n                    this.navigateTo('/');\n                  }}\n                  variant=\"raised\"\n                  color=\"primary\"\n                >\n                  Login\n                </Button>\n              </div>\n            )}\n          </div>\n        </Drawer>\n      </AppBar>\n    );\n  }\n}\n\nexport default withRouter(MyAppBar);\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch\n} from 'react-router-dom';\nimport LoginPage from './login';\nimport HomePage from './home';\nimport SettingsPage from './settings';\nimport StatisticsPage from './statistics';\nimport HistoryPage from './history';\nimport AppBar from '../components/appBar';\nimport { auth } from 'firebase';\n\nconst AuthenticatedRoute = props => {\n  if (!auth().user) {\n    return (\n      <Redirect\n        to={{\n          pathname: '/',\n          state: { from: props.location }\n        }}\n      />\n    );\n  }\n\n  return (\n    <div>\n      <AppBar />\n      <Route {...props} />\n    </div>\n  );\n};\n\nexport default () => (\n  <Router basename={process.env.PUBLIC_URL}>\n    <Switch>\n      <Route exact path=\"/\" component={LoginPage} />\n      <AuthenticatedRoute path=\"/home\" component={HomePage} />\n      <AuthenticatedRoute path=\"/statistics\" component={StatisticsPage} />\n      <AuthenticatedRoute path=\"/history\" component={HistoryPage} />\n      <AuthenticatedRoute path=\"/settings\" component={SettingsPage} />\n      {/* no match just redirect to login page */}\n      <Route component={LoginPage} />\n    </Switch>\n  </Router>\n);\n","import React, { Component } from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { initializeApp } from 'firebase';\nimport Routes from './routes';\n\nconst theme = createMuiTheme({});\n\nclass App extends Component {\n  state = {};\n\n  UNSAFE_componentWillMount() {\n    initializeApp({\n      apiKey: 'AIzaSyASrQ26OQZNaY9NKmEtOL1O8Uw_SdlAcNg',\n      authDomain: 'food-journal-6eb44.firebaseapp.com',\n      databaseURL: 'https://food-journal-6eb44.firebaseio.com',\n      projectId: 'food-journal-6eb44',\n      storageBucket: '',\n      messagingSenderId: '1056680813971'\n    });\n  }\n\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Routes />\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  // if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n  // TODO change me back\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (process.env.NODE_ENV === 'test') {\n  require('raf').polyfill(global);\n}\n"],"sourceRoot":""}