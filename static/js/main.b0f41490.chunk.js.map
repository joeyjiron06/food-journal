{"version":3,"sources":["model/date.js","api/foodJournal.js","routes/login/index.js","components/editMeal/index.js","model/meal.js","routes/home/index.js","components/avatar.js","routes/feeds/userCard.js","routes/feeds/index.js","routes/settings/index.js","utils/debouncer.js","routes/statistics/index.js","routes/history/index.js","components/appBar/index.js","routes/index.js","App.js","registerServiceWorker.js","index.js","../config/polyfills.js"],"names":["dateRangeOfToday","now","Date","start","getFullYear","getMonth","getDate","getTime","end","dateRangeOfWeek","fromDate","day","diff","monday","getDay","setDate","setHours","setMinutes","setSeconds","addMeal","_x","_addMeal","apply","this","arguments","_callee","meal","regenerator_default","a","wrap","_context","prev","next","Object","index_cjs","user","child","push","_objectSpread","date","ServerValue","TIMESTAMP","updateStats","stop","updateMeal","_x2","_updateMeal","_callee2","_context2","id","update","_callee3","_context3","remove","_updateStats","_callee4","userId","meals","stats","weekDateRange","days","allVeganDay","_context4","fetchMeals","ascending","sent","meat","vegetarian","vegan","junkFood","dateOfAllVeganDay","junkFoodCountThisWeek","meatCountThisWeek","totalMeals","length","lastMeal","console","log","forEach","type","reduce","find","every","ref","set","onAuthStateChanged","_onAuthStateChanged","_callee5","authUser","_context5","Promise","resolve","reject","unsubscribe","uid","photoUrl","photoURL","displayName","abrupt","foodJournal_login","_login","_callee6","_context6","signInWithRedirect","FacebookAuthProvider","logout","_logout","_callee7","_context7","_x4","_fetchMeals","_callee8","_ref","_ref$ascending","snapshot","_context8","orderByChild","once","mealSnapshot","val","key","reverse","fetchUser","_x5","_fetchUser","_callee9","_context9","fetchUserStats","_x6","_fetchUserStats","_callee10","_context10","fetchUserIds","_fetchUserIds","_callee11","res","userIdHash","_context11","fetch","json","keys","fetchUsersFeed","_fetchUsersFeed","_callee12","userIds","users","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context12","undefined","Symbol","iterator","done","value","warn","unshift","t0","return","finish","routes_login","setState","isLoading","JSON","parse","localStorage","getItem","setItem","stringify","pathname","props","location","state","from","history","replace","error","react_default","createElement","className","src","alt","index_es","variant","onClick","login","disabled","color","react","src_components_editMeal","handleTitleChanged","event","title","target","editMeal_objectSpread","_this","handleMealTypeChanged","handleConfirm","_this$state","isEditing","onConfirm","handleOnRemoveClicked","showRemoveConfirmDialog","handleCancelRemove","handleConfirmRemove","_x3","_removeMeal","removeMeal","onRemove","onCancel","_this$state2","addButtonEnabled","open","label","onChange","margin","helperText","style","position","top","right","autoComplete","minWidth","htmlFor","input","name","concat","meal_fetchMeals","startAt","endAt","then","meal_objectSpread","routes_home","showAddModal","isFetching","handleAddMealClicked","handleCloseModal","editMeal","handleMealClicked","handleMealConfirmed","map","m","handleRemoveMeal","filter","_this2","mounted","isError","catch","_this3","gutterBottom","primary","secondary","marginRight","avatar","styles","theme","image","width","height","borderRadius","classes","userCard_Stat","_ref2","percentage","stat","statTitle","statBarContainer","statBar","statPercentage","toFixed","userCard","root","display","backgroundColor","padding","userName","fontSize","status","opacity","marginTop","marginBottom","rightSide","marginLeft","flexGrow","fontWeight","palette","light","textAlign","extraStats","other","_objectWithoutProperties","assign","moment_default","fromNow","feeds_FeedsPage","mealTitle","handleMealTypeSelected","e","feeds_objectSpread","handleMealTextChanged","newMeal","handleCreateMeal","fetchFeeds","userContainer","textField","fullWidth","placeholder","mealActionContainer","required","mealTypeSelect","inputProps","feeds","feeds_defineProperty","maxWidth","breakpoints","up","alignItems","down","flexDirection","userAvatar","mealTypeButton","settings_SettingsPage","goalValue","mealTypeButtonRef","handleGoalPercentageChanged","setGoalPercentageDebouncer","goalPercentage","handleMealTypeClick","handleMealTypeMenuClose","getAttribute","textContent","goalMealType","goalRef","clear","window","href","goal","mealType","delay","fn","Error","timer","destroyed","debouncer","clearTimeout","setTimeout","Array","prototype","slice","call","destroy","debounce","Math","round","goalContainer","Slider_default","anchorEl","Boolean","onClose","origin","handleSignout","routes_settings","flexShrink","statistics_Statistic","parseFloat","routes_statistics","handleTabClicked","loadMeals","dateRangeOfYear","numMealsTowardGoal","numMealsToReachGoal","dateRange","cacheKey","onComplete","promise","cancelLoading","callback","cancelled","data","cancellable","calculateStats","str","indicatorColor","textColor","scrollable","scrollButtons","charAt","toUpperCase","toLowerCase","src_routes_history","sections","section","setMeals","showModal","subheader","toLocaleDateString","appBar_MyAppBar","openMenu","path","closeMenu","aria-label","tabIndex","role","component","dense","button","navigateTo","appBar","withRouter","routes_AuthenticatedRoute","Route","Redirect","to","routes","HashRouter","Switch","exact","src_App","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","isLocalhost","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","react_dom_default","render","document","getElementById","URL","addEventListener","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","__webpack_require__","enable"],"mappings":"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","file":"static/js/main.b0f41490.chunk.js","sourcesContent":["export function dateRangeOfToday() {\n  const now = new Date();\n  const startOfToday = new Date(\n    now.getFullYear(),\n    now.getMonth(),\n    now.getDate()\n  ).getTime();\n\n  const endOfToday = new Date(\n    now.getFullYear(),\n    now.getMonth(),\n    now.getDate(),\n    23,\n    59,\n    59\n  ).getTime();\n\n  return {\n    start: startOfToday,\n    end: endOfToday\n  };\n}\n\nfunction getMonday(fromDate) {\n  fromDate = new Date(fromDate);\n  const day = fromDate.getDay();\n  const diff = fromDate.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n  const monday = new Date(fromDate.setDate(diff));\n  monday.setHours(0);\n  monday.setMinutes(0);\n  monday.setSeconds(0);\n  return monday;\n}\n\nexport function dateRangeOfWeek() {\n  const now = new Date();\n  const prevMonday = getMonday(now);\n  return {\n    start: prevMonday.getTime(),\n    end: now.getTime()\n  };\n}\n\nexport function dateRangeOfMonth() {\n  const now = new Date();\n  const startOfMonth = new Date(now.getFullYear(), now.getMonth());\n  return {\n    start: startOfMonth.getTime(),\n    end: now.getTime()\n  };\n}\n\nexport function dateRangeOfYear() {\n  const now = new Date();\n  const startOfYear = new Date(now.getFullYear(), 0);\n  return {\n    start: startOfYear.getTime(),\n    end: now.getTime()\n  };\n}\n","import { database, auth } from 'firebase';\nimport { dateRangeOfWeek } from '../model/date';\n\n// USER API\nexport function getUser() {\n  return auth().user;\n}\n\nexport async function addMeal(meal) {\n  await database()\n    .user.child('meals')\n    .push({ ...meal, date: database.ServerValue.TIMESTAMP });\n\n  await updateStats();\n}\n\nexport async function updateMeal(meal) {\n  await database()\n    .user.child('meals')\n    .child(meal.id)\n    .update(meal);\n\n  await updateStats();\n}\n\nexport async function removeMeal(meal) {\n  await database()\n    .user.child('meals')\n    .child(meal.id)\n    .remove();\n\n  await updateStats();\n}\n\nexport async function updateStats() {\n  const userId = auth().user.id;\n  const meals = await fetchMeals({ userId, ascending: false });\n\n  const stats = {\n    meat: 0,\n    vegetarian: 0,\n    vegan: 0,\n    junkFood: 0,\n    dateOfAllVeganDay: 0,\n    junkFoodCountThisWeek: 0,\n    meatCountThisWeek: 0,\n    totalMeals: meals.length,\n    lastMeal: meals[0]\n  };\n\n  const weekDateRange = dateRangeOfWeek();\n  console.log(\n    'range',\n    new Date(weekDateRange.start),\n    new Date(weekDateRange.end)\n  );\n  meals.forEach(meal => {\n    if (meal.type === 'meat') stats.meat++;\n    if (meal.type === 'vegetarian') stats.vegetarian++;\n    if (meal.type === 'vegan') stats.vegan++;\n    if (meal.type === 'junk') stats.junkFood++;\n\n    // this week\n    if (meal.date >= weekDateRange.start && meal.date <= weekDateRange.end) {\n      if (meal.type === 'meat') stats.meatCountThisWeek++;\n      if (meal.type === 'junk') stats.junkFoodCountThisWeek++;\n    }\n  });\n\n  stats['vegan'] = (stats['vegan'] * 100) / meals.length;\n  stats['meat'] = (stats['meat'] * 100) / meals.length;\n  stats['vegetarian'] = (stats['vegetarian'] * 100) / meals.length;\n  stats['junkFood'] = (stats['junkFood'] * 100) / meals.length;\n\n  const days = meals.reduce((days, meal) => {\n    const date = new Date(meal.date);\n    let day = days[days.length - 1];\n    const mealDay = date.getDate();\n    const currentDay = day && day.date.getDate();\n\n    if (mealDay !== currentDay) {\n      days.push({\n        date: date,\n        meals: []\n      });\n      day = days[days.length - 1];\n    }\n\n    day.meals.push(meal);\n\n    return days;\n  }, []);\n\n  const allVeganDay = days.find(day =>\n    day.meals.every(meal => meal.type === 'vegan')\n  );\n\n  if (allVeganDay) {\n    stats.dateOfAllVeganDay = allVeganDay.date.getTime();\n  }\n\n  await database()\n    .ref(userId)\n    .child('statistics')\n    .set(stats);\n}\n\nexport async function onAuthStateChanged() {\n  const authUser = await new Promise((resolve, reject) => {\n    const unsubscribe = auth().onAuthStateChanged(user => {\n      if (user) {\n        resolve(user);\n      } else {\n        reject(user);\n      }\n\n      unsubscribe();\n    });\n  });\n\n  const user = {\n    id: authUser.uid,\n    photoUrl: authUser.photoURL,\n    displayName: authUser.displayName\n  };\n  auth().user = user;\n  database().user = database().ref(user.id);\n  database()\n    .user.child('info')\n    .set(user);\n\n  return user;\n}\n\nexport async function login() {\n  await auth().signInWithRedirect(new auth.FacebookAuthProvider());\n}\n\nexport async function logout() {\n  await auth().log();\n}\n\n// OTHER APIs\nexport async function fetchMeals({ userId, ascending = true }) {\n  const snapshot = await database()\n    .ref(userId)\n    .child('meals')\n    .orderByChild('date')\n    .once('value');\n\n  const meals = [];\n  snapshot.forEach(mealSnapshot => {\n    meals.push({\n      ...mealSnapshot.val(),\n      id: mealSnapshot.key\n    });\n  });\n\n  if (!ascending) {\n    return meals.reverse();\n  }\n\n  return meals;\n}\n\nexport async function fetchUser(userId) {\n  const snapshot = await database()\n    .ref(userId)\n    .child('info')\n    .once('value');\n  return snapshot.val();\n}\n\nexport async function fetchUserStats(userId) {\n  const snapshot = await database()\n    .ref(userId)\n    .child('statistics')\n    .once('value');\n  return snapshot.val();\n}\n\nexport async function fetchUserIds() {\n  const res = await fetch(\n    'https://food-journal-6eb44.firebaseio.com/.json?shallow=true'\n  );\n  const userIdHash = await res.json();\n  return Object.keys(userIdHash);\n}\n\nexport async function fetchUsersFeed() {\n  const userIds = await fetchUserIds();\n  const users = [];\n\n  for (let userId of userIds) {\n    const user = await fetchUser(userId);\n\n    // for people who havent logged in\n    if (!user) {\n      console.warn(userId, 'hasnt logged in for a while');\n      continue;\n    }\n\n    user.stats = await fetchUserStats(userId);\n\n    // put us at the front of the list\n    if (userId === auth().user.id) {\n      users.unshift(user);\n    } else {\n      users.push(user);\n    }\n  }\n\n  return users;\n}\n","import React, { Component } from 'react';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport './index.css';\n// import { auth, database } from 'firebase';\nimport { onAuthStateChanged, login, updateStats } from '../../api/foodJournal';\n\nclass Login extends Component {\n  async UNSAFE_componentWillMount() {\n    this.setState({\n      isLoading: JSON.parse(localStorage.getItem('isReturningUser'))\n    });\n\n    try {\n      const user = await onAuthStateChanged();\n      await updateStats();\n\n      localStorage.setItem('user', JSON.stringify(user));\n\n      const pathname =\n        (this.props.location &&\n          this.props.location.state &&\n          this.props.location.state.from &&\n          this.props.location.state.from.pathname) ||\n        '/feeds';\n\n      this.props.history.replace(pathname);\n    } catch (e) {\n      console.error(e);\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  async login() {\n    localStorage.setItem('isReturningUser', true);\n    login();\n  }\n\n  render() {\n    const { isLoading } = this.state;\n\n    return (\n      <div className='login-page'>\n        <div className='login-page-background-container'>\n          <img\n            className='login-page-background-image'\n            src='img/loginpage1.jpg'\n            alt='login page'\n          />\n          <div className='login-page-background-overlay' />\n        </div>\n\n        <div className='login-page-content'>\n          <div className='login-page-title'>Food Journal</div>\n          <p className='login-page-subtitle'>keeping track of what you eat</p>\n          <Button variant='contained' onClick={this.login} disabled={isLoading}>\n            Login with facebook\n          </Button>\n\n          {isLoading ? <CircularProgress color='secondary' /> : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport {\n  Button,\n  Dialog,\n  DialogContent,\n  DialogActions,\n  DialogTitle,\n  DialogContentText,\n  TextField,\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  Input,\n  Select,\n  MenuItem\n} from '@material-ui/core';\nimport { updateMeal, addMeal, removeMeal } from '../../api/foodJournal';\nimport './index.css';\n\nclass EditMeal extends Component {\n  state = {};\n\n  UNSAFE_componentWillMount() {\n    // copy the passed in meal for editing, or create a new one\n    this.setState({\n      meal: { ...this.props.meal },\n      isEditing: !!this.props.meal\n    });\n  }\n\n  handleTitleChanged = event => {\n    const title = event.target.value;\n    const meal = { ...this.state.meal, title };\n    this.setState({ meal });\n  };\n  handleMealTypeChanged = event => {\n    const type = event.target.value;\n    const meal = { ...this.state.meal, type };\n    this.setState({ meal });\n  };\n\n  handleConfirm = async () => {\n    const { meal, isEditing } = this.state;\n\n    if (isEditing) {\n      await updateMeal(meal);\n    } else {\n      await addMeal(meal);\n    }\n\n    this.props.onConfirm(meal);\n  };\n\n  handleOnRemoveClicked = () => {\n    this.setState({\n      showRemoveConfirmDialog: true\n    });\n  };\n\n  handleCancelRemove = () => {\n    this.setState({\n      showRemoveConfirmDialog: false\n    });\n  };\n  handleConfirmRemove = () => {\n    this.setState({\n      showRemoveConfirmDialog: false\n    });\n    removeMeal(this.state.meal);\n    this.props.onRemove(this.props.meal);\n  };\n\n  render() {\n    const { onCancel } = this.props;\n    const { meal, isEditing, showRemoveConfirmDialog } = this.state;\n    const addButtonEnabled = !!meal.type && !!meal.title;\n    return (\n      <Dialog open={true}>\n        <DialogTitle>{isEditing ? 'Edit Meal' : 'Add Meal'}</DialogTitle>\n\n        <DialogContent>\n          <div>\n            <TextField\n              label='Name of meal'\n              value={meal.title || ''}\n              onChange={this.handleTitleChanged}\n              margin='normal'\n              helperText='required'\n            />\n          </div>\n\n          {isEditing ? (\n            <Button\n              style={{\n                position: 'absolute',\n                top: 20,\n                right: 20\n              }}\n              color='secondary'\n              onClick={this.handleOnRemoveClicked}\n            >\n              Remove\n            </Button>\n          ) : null}\n\n          <form className='edit-meal-type-form' autoComplete='off'>\n            <FormControl\n              style={{\n                minWidth: 120\n              }}\n            >\n              <InputLabel htmlFor='edit-meal-type'>Meal Type</InputLabel>\n              <Select\n                value={meal.type || ''}\n                onChange={this.handleMealTypeChanged}\n                input={<Input name='Meal Type' id='edit-meal-type' />}\n              >\n                <MenuItem value={'junk'}>Junk food</MenuItem>\n                <MenuItem value={'meat'}>Meat</MenuItem>\n                <MenuItem value={'vegan'}>Vegan</MenuItem>\n                <MenuItem value={'vegetarian'}>Vegetarian</MenuItem>\n              </Select>\n\n              <FormHelperText>required</FormHelperText>\n            </FormControl>\n          </form>\n\n          <DialogActions>\n            <Button color='primary' onClick={onCancel}>\n              Cancel\n            </Button>\n            <Button\n              color='primary'\n              onClick={this.handleConfirm}\n              disabled={!addButtonEnabled}\n            >\n              {isEditing ? 'Confirm' : 'Add'}\n            </Button>\n          </DialogActions>\n        </DialogContent>\n\n        {showRemoveConfirmDialog ? (\n          <Dialog open={true}>\n            <DialogTitle>{`Remove ${meal.title}?`}</DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                Are you sure you want to delete {meal.title}?\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={this.handleCancelRemove} color='primary'>\n                Cancel\n              </Button>\n              <Button onClick={this.handleConfirmRemove} color='secondary'>\n                Remove\n              </Button>\n            </DialogActions>\n          </Dialog>\n        ) : null}\n      </Dialog>\n    );\n  }\n}\n\nexport default EditMeal;\n","import { database } from 'firebase';\n\nexport function addMeal(meal) {\n  database()\n    .user.child('meals')\n    .push({ ...meal, date: database.ServerValue.TIMESTAMP });\n}\n\nexport function updateMeal(meal) {\n  database()\n    .user.child('meals')\n    .child(meal.id)\n    .update(meal);\n}\n\nexport function removeMeal(meal) {\n  database()\n    .user.child('meals')\n    .child(meal.id)\n    .remove();\n}\n\nexport function fetchMeals({ start, end, ascending = true }) {\n  return database()\n    .user.child('meals')\n    .orderByChild('date')\n    .startAt(start)\n    .endAt(end)\n    .once('value')\n    .then(snapshot => {\n      const meals = [];\n      snapshot.forEach(mealSnapshot => {\n        meals.push({\n          ...mealSnapshot.val(),\n          id: mealSnapshot.key\n        });\n      });\n\n      if (!ascending) {\n        return meals.reverse();\n      }\n\n      return meals;\n    });\n}\n","import React, { Component } from 'react';\nimport './index.css';\nimport {\n  Button,\n  Icon,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Modal,\n  CircularProgress\n} from '@material-ui/core';\nimport EditMeal from '../../components/editMeal';\nimport { fetchMeals } from '../../model/meal';\nimport { dateRangeOfToday } from '../../model/date';\n\nclass Home extends Component {\n  state = {\n    showAddModal: false,\n    isFetching: true,\n    meals: null\n  };\n  UNSAFE_componentWillMount() {\n    this.mounted = true;\n\n    this.setState({ isFetching: true, isError: false });\n\n    fetchMeals(dateRangeOfToday())\n      .then(meals => {\n        if (!this.mounted) {\n          return;\n        }\n        console.log('got meals', meals);\n        this.setState({\n          meals,\n          isFetching: false\n        });\n      })\n      .catch(error => {\n        if (!this.mounted) {\n          return;\n        }\n\n        this.setState({\n          isFetching: false,\n          isError: true\n        });\n        console.error('error fetching meals', error);\n      });\n  }\n\n  UNSAFE_componentWillUnmount() {\n    this.mounted = true;\n  }\n\n  handleAddMealClicked = () => {\n    this.setState({ showAddModal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ showAddModal: false, editMeal: null });\n  };\n\n  handleMealClicked = meal => {\n    this.setState({\n      showAddModal: true,\n      editMeal: meal\n    });\n  };\n\n  handleMealConfirmed = meal => {\n    const prevMeals = this.state.meals || [];\n    const meals = prevMeals.map(m => {\n      // update with new data\n      if (m.id === meal.id) {\n        return meal;\n      }\n\n      return m;\n    });\n\n    if (!meal.id) {\n      meal.id = Date.now(); //temp id\n      meals.push(meal);\n    }\n\n    this.setState({ meals, showAddModal: false });\n  };\n  handleRemoveMeal = meal => {\n    const meals = this.state.meals.filter(m => m.id !== meal.id);\n    this.setState({ meals, showAddModal: false, editMeal: null });\n  };\n\n  render() {\n    const { meals, showAddModal, editMeal, isFetching } = this.state;\n\n    return (\n      <div className='home-page'>\n        <div className='home-page-content'>\n          <Typography variant='display1' gutterBottom>\n            Today\n          </Typography>\n\n          {isFetching ? (\n            <CircularProgress color='secondary' />\n          ) : (\n            <List>\n              {meals && meals.length ? (\n                meals.map(meal => (\n                  <ListItem\n                    key={meal.id}\n                    onClick={() => {\n                      this.handleMealClicked(meal);\n                    }}\n                  >\n                    <ListItemText primary={meal.title} secondary={meal.type} />\n                  </ListItem>\n                ))\n              ) : (\n                <Typography>\n                  You haven't added any meals today. Add some meals by clicking\n                  on the button below.\n                </Typography>\n              )}\n            </List>\n          )}\n        </div>\n\n        <Modal open={showAddModal}>\n          <EditMeal\n            meal={editMeal}\n            onConfirm={this.handleMealConfirmed}\n            onCancel={this.handleCloseModal}\n            onRemove={this.handleRemoveMeal}\n          />\n        </Modal>\n\n        <div className='home-page-add-button-container'>\n          <Button variant='extendedFab' onClick={this.handleAddMealClicked}>\n            <Icon style={{ marginRight: 10 }}>add</Icon>\n            Add Meal\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst Avatar = ({ user, className, classes }) => (\n  <img\n    className={`${classes.image} ${className || ''}`}\n    src={user.photoUrl}\n    alt='avatar'\n  />\n);\n\nconst styles = theme => ({\n  image: {\n    width: 40,\n    height: 40,\n    borderRadius: '100%'\n  }\n});\n\nexport default withStyles(styles)(Avatar);\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport Avatar from '../../components/avatar';\nimport moment from 'moment';\n\nconst UserCard = ({ user, classes, className, ...other }) => (\n  <div className={`${classes.root} ${className || ''}`} {...other}>\n    <Avatar user={user} />\n\n    <div className={classes.rightSide}>\n      <div className={classes.status}>\n        <Typography className={classes.userName}>{user.displayName}</Typography>\n        {user.stats &&\n          user.stats.lastMeal && (\n            <Typography>\n              <b>{user.stats.lastMeal.title}  </b>\n              {moment(user.stats.lastMeal.date).fromNow()}\n            </Typography>\n          )}\n      </div>\n\n      <div className={classes.stats}>\n        <Stat title='Vegan' percentage={user.stats.vegan} classes={classes} />\n        <Stat\n          title='Vegetarian'\n          percentage={user.stats.vegetarian}\n          classes={classes}\n        />\n        <Stat title='Meat' percentage={user.stats.meat} classes={classes} />\n        <Stat\n          title='Junk Food'\n          percentage={user.stats.junkFood}\n          classes={classes}\n        />\n      </div>\n\n      <div className={classes.extraStats}>\n        {user.stats.dateOfAllVeganDay && (\n          <Typography gutterBottom>\n            <b>{moment(user.stats.dateOfAllVeganDay).fromNow()} </b>\n            since last all vegan day\n          </Typography>\n        )}\n\n        <Typography gutterBottom>\n          <b>{user.stats.junkFoodCountThisWeek || 0} </b>\n          junk food meals eaten this week\n        </Typography>\n\n        <Typography gutterBottom>\n          <b>{user.stats.meatCountThisWeek || 0} </b>\n          meat meals eaten this week\n        </Typography>\n\n        <Typography className={classes.totalMeals}>\n          <b>{user.stats.totalMeals || 0} </b>\n          meals\n        </Typography>\n      </div>\n    </div>\n  </div>\n);\n\nconst Stat = ({ title, percentage, classes }) => (\n  <div className={classes.stat}>\n    <Typography className={classes.statTitle}>{title}</Typography>\n    <div className={classes.statBarContainer}>\n      <div\n        className={classes.statBar}\n        style={{\n          width: `${percentage}%`\n        }}\n      />\n    </div>\n\n    <Typography className={classes.statPercentage}>\n      {percentage.toFixed(0) + '%'}\n    </Typography>\n  </div>\n);\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    backgroundColor: 'white',\n    padding: 20\n  },\n  userName: {\n    fontSize: 16\n  },\n  status: {\n    opacity: 0.65\n  },\n  stats: {\n    marginTop: 20\n  },\n  stat: {\n    display: 'flex',\n    marginBottom: 20\n  },\n  rightSide: {\n    marginLeft: 20,\n    width: '100%'\n  },\n  statBarContainer: {\n    flexGrow: 1\n  },\n  statTitle: {\n    minWidth: 80,\n    fontWeight: 'bold',\n    opacity: 0.7\n  },\n  statBar: {\n    height: 20,\n    backgroundColor: theme.palette.secondary.light\n  },\n  statPercentage: {\n    minWidth: 40,\n    textAlign: 'right'\n  },\n  extraStats: {\n    opacity: 0.7\n  },\n  totalMeals: {\n    textAlign: 'right'\n  }\n});\n\nexport default withStyles(styles)(UserCard);\n","import React, { Component } from 'react';\nimport {\n  CircularProgress,\n  TextField,\n  MenuItem,\n  Icon,\n  IconButton,\n  FormControl,\n  InputLabel,\n  Select,\n  FormHelperText\n} from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fetchUsersFeed, addMeal } from '../../api/foodJournal';\nimport UserCard from './userCard';\n\nclass FeedsPage extends Component {\n  state = {\n    isLoading: true,\n    users: null,\n    error: false,\n    mealTitle: null\n  };\n\n  async UNSAFE_componentWillMount() {\n    await this.fetchFeeds();\n  }\n\n  async fetchFeeds() {\n    try {\n      const users = await fetchUsersFeed();\n      this.setState({\n        isLoading: false,\n        users\n      });\n    } catch (e) {\n      this.setState({\n        isLoading: false,\n        error: true\n      });\n    }\n  }\n\n  handleMealTypeSelected = e => {\n    const { value } = e.target;\n    this.setState({\n      meal: {\n        ...this.state.meal,\n        type: value\n      }\n    });\n  };\n\n  handleMealTextChanged = e => {\n    const value = e.target.value;\n    const newMeal = {\n      ...this.state.meal,\n      title: value\n    };\n\n    this.setState({\n      meal: newMeal\n    });\n  };\n\n  handleCreateMeal = async () => {\n    const { meal } = this.state;\n    await addMeal(meal);\n    await this.fetchFeeds();\n    this.setState({ meal: null, users: this.state.users });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { isLoading, users, error, meal } = this.state;\n\n    return (\n      <div className={classes.root}>\n        <div className={classes.userContainer}>\n          <TextField\n            className={classes.textField}\n            fullWidth={true}\n            placeholder='What did you have to eat?'\n            value={(meal && meal.title) || ''}\n            onChange={this.handleMealTextChanged}\n          />\n\n          {meal &&\n            meal.title && (\n              <div className={classes.mealActionContainer}>\n                <FormControl required>\n                  <InputLabel htmlFor='mealtype-required'>Meal Type</InputLabel>\n\n                  <Select\n                    className={classes.mealTypeSelect}\n                    value={(meal && meal.type) || ''}\n                    onChange={this.handleMealTypeSelected}\n                    name='mealtype'\n                    inputProps={{\n                      id: 'mealtype-required'\n                    }}\n                  >\n                    <MenuItem value='vegan'>Vegan</MenuItem>\n                    <MenuItem value='vegetarian'>Vegetarian</MenuItem>\n                    <MenuItem value='meat'>Meat</MenuItem>\n                    <MenuItem value='junk'>Junk Food</MenuItem>\n                  </Select>\n                  <FormHelperText>Required</FormHelperText>\n                </FormControl>\n\n                <IconButton\n                  color='primary'\n                  disabled={!meal || !meal.type || !meal.title}\n                  onClick={this.handleCreateMeal}\n                >\n                  <Icon>send</Icon>\n                </IconButton>\n              </div>\n            )}\n        </div>\n\n        {(() => {\n          if (isLoading) {\n            return <CircularProgress />;\n          }\n\n          if (error) {\n            return (\n              <div onClick={() => this.fetchFeeds()}>\n                Error fetching feed. Tap to reload.\n              </div>\n            );\n          }\n\n          return users.map(user => (\n            <UserCard key={user.id} user={user} className={classes.userCard} />\n          ));\n        })()}\n      </div>\n    );\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    maxWidth: 600,\n    [theme.breakpoints.up('sm')]: {\n      margin: '0 auto'\n    }\n  },\n  userContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '20px 0',\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n      alignItems: 'flex-start',\n      padding: 20\n    }\n  },\n  userAvatar: {\n    marginRight: 20\n  },\n  userCard: {\n    marginBottom: 10\n  },\n  mealTypeButton: {\n    minWidth: 128\n  },\n  textField: {\n    marginRight: 10\n  },\n  mealActionContainer: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  mealTypeSelect: {\n    minWidth: 128\n  }\n});\n\nexport default withStyles(styles)(FeedsPage);\n","import React, { Component } from 'react';\nimport { Button, Typography, Menu, MenuItem } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/lab/Slider';\nimport { database } from 'firebase';\nimport { logout } from '../../api/foodJournal';\nimport debounce from '../../utils/debouncer';\nimport './index.css';\n\nconst styles = {\n  goalContainer: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  goalPercentage: {\n    marginRight: 10\n  },\n  goalMealType: {\n    flexShrink: 0\n  }\n};\n\nclass SettingsPage extends Component {\n  state = {\n    goalValue: 0,\n    mealTypeButtonRef: null\n  };\n\n  handleGoalPercentageChanged = (event, value) => {\n    this.setGoalPercentageDebouncer(value);\n    this.setState({ goalPercentage: value });\n  };\n  handleMealTypeClick = event => {\n    this.setState({ mealTypeButtonRef: event.target });\n  };\n  handleMealTypeMenuClose = () => {\n    this.setState({ mealTypeButtonRef: null });\n  };\n  handleMealTypeSelected = event => {\n    const value = event.target.getAttribute('value');\n    const title = event.target.textContent;\n    this.setState({ mealTypeButtonRef: null, goalMealType: title });\n    this.goalRef.child('mealType').set(value);\n  };\n\n  async handleSignout() {\n    try {\n      await logout();\n    } catch (e) {\n      localStorage.clear();\n      window.location.href = window.location.href; // refresh\n    }\n  }\n\n  UNSAFE_componentWillMount() {\n    this.mounted = true;\n    this.goalRef = database().user.child('goal');\n    this.goalRef\n      .once('value')\n      .then(snapshot => {\n        if (!this.mounted) {\n          return;\n        }\n\n        const goal = snapshot.val();\n        if (goal) {\n          this.setState({\n            goalPercentage: goal.percentage,\n            goalMealType: goal.mealType\n          });\n        }\n      })\n      .catch(error => {\n        if (!this.mounted) {\n          return;\n        }\n        console.error('error fetching goal');\n      });\n\n    this.setGoalPercentageDebouncer = debounce(500, percentage => {\n      percentage = Math.round(percentage);\n      console.log('setting goal percentage to', percentage);\n      this.goalRef.child('percentage').set(percentage);\n    });\n  }\n  UNSAFE_componentWillUnmount() {\n    this.mounted = false;\n    this.setGoalPercentageDebouncer.destroy();\n  }\n\n  render() {\n    const { goalPercentage, goalMealType, mealTypeButtonRef } = this.state;\n    const { classes } = this.props;\n\n    return (\n      <div className='settings-page'>\n        <Typography variant='display1' gutterBottom>\n          Settings\n        </Typography>\n\n        <div>\n          <Typography>\n            What percentage of a specific kind of meal type would you like as\n            your goal?\n          </Typography>\n\n          <div className={classes.goalContainer}>\n            <Slider\n              style={{ marginRight: 20 }}\n              value={goalPercentage || 0}\n              onChange={this.handleGoalPercentageChanged}\n            />\n            <Typography\n              variant='subheading'\n              className={classes.goalPercentage}\n            >{`${Math.round(goalPercentage)}%`}</Typography>\n\n            <Button\n              onClick={this.handleMealTypeClick}\n              className={classes.goalMealType}\n            >\n              {goalMealType ? goalMealType : 'Meal Type'}\n            </Button>\n            <Menu\n              anchorEl={mealTypeButtonRef}\n              open={Boolean(mealTypeButtonRef)}\n              onClose={this.handleMealTypeMenuClose}\n            >\n              <MenuItem value='junk' onClick={this.handleMealTypeSelected}>\n                Junk Food\n              </MenuItem>\n              <MenuItem value='meat' onClick={this.handleMealTypeSelected}>\n                Meat\n              </MenuItem>\n              <MenuItem value='vegan' onClick={this.handleMealTypeSelected}>\n                Vegan\n              </MenuItem>\n              <MenuItem\n                value='vegetarian'\n                onClick={this.handleMealTypeSelected}\n              >\n                Vegetarian\n              </MenuItem>\n            </Menu>\n          </div>\n        </div>\n\n        <div className='settings-page-link-container'>\n          <a\n            className='settings-page-link'\n            href={`${window.location.origin +\n              (process.env.PUBLIC_URL || '')}/privacy-policy.html`}\n          >\n            Privacy Policy\n          </a>\n\n          <a\n            className='settings-page-link'\n            href={`${window.location.origin +\n              (process.env.PUBLIC_URL || '')}/terms-of-service.html`}\n          >\n            Terms of Service\n          </a>\n        </div>\n\n        <Button variant='raised' color='secondary' onClick={this.handleSignout}>\n          Sign out\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(SettingsPage);\n","/**\n * @example\n * const debouncer = debounce(1000, (myArg) => {\n *   console.log('i am debounced with ', myArg);\n * });\n *\n * debouncer(1);\n * debouncer(2);\n * debouncer(3);\n *\n * // one second later...\n * //prints \"i am debounced with 3\"\n *\n * @param {number} delay - milliseconds to delay the call\n * @param {function} fn - the callback to be fired when delay fires\n * @return {function} a function to call multiple times\n */\nexport default function debounce(delay, fn) {\n  if (typeof delay !== 'number') {\n    throw new Error('you must pass in a number');\n  }\n\n  if (typeof fn !== 'function') {\n    throw new Error('you must pass in a function');\n  }\n\n  let timer;\n  let destroyed = false;\n\n  /**\n   * A debouncer function that wraps the function you passed in. Will add\n   * a delay to your called method unless you call destroy, in which case\n   * your function wont fire.\n   */\n  function debouncer() {\n    if (destroyed) {\n      return;\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout.apply(null, [fn, delay, ...arguments]);\n  }\n\n  /**\n   * Destroy the debouncer. This will ensure that your debounced function\n   * will never get called again. you will have to call debounce again to\n   * get a new debounced function. Useful for UI components that get destroyed.\n   */\n  debouncer.destroy = function() {\n    if (!destroyed) {\n      clearTimeout(timer);\n      timer = null;\n      destroyed = true;\n    }\n  };\n\n  return debouncer;\n}\n","import React, { Component } from 'react';\nimport { Typography, Tabs, Tab } from '@material-ui/core';\nimport { database } from 'firebase';\nimport { fetchMeals } from '../../model/meal';\nimport {\n  dateRangeOfToday,\n  dateRangeOfWeek,\n  dateRangeOfMonth,\n  dateRangeOfYear\n} from '../../model/date';\nimport './index.css';\n\nconst capitalizeFirstLetter = str => {\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n};\n\nconst calculateStats = meals => {\n  meals = meals || [];\n\n  let meat = 0;\n  let vegetarian = 0;\n  let vegan = 0;\n  let junkFood = 0;\n\n  meals.forEach(meal => {\n    if (meal.type === 'meat') meat++;\n    if (meal.type === 'vegetarian') vegetarian++;\n    if (meal.type === 'vegan') vegan++;\n    if (meal.type === 'junk') junkFood++;\n  });\n\n  return {\n    meat: (meat * 100) / meals.length,\n    vegetarian: (vegetarian * 100) / meals.length,\n    vegan: (vegan * 100) / meals.length,\n    junkFood: (junkFood * 100) / meals.length\n  };\n};\n\nconst Statistic = ({ title, value }) => (\n  <div className='stats-page-stat'>\n    <Typography className='state-page-state-title'>{title}</Typography>\n    <div className='stats-page-percentage-container'>\n      <div\n        className='stats-page-percentage-bar'\n        style={{\n          width: (value || 0) + '%'\n        }}\n      />\n    </div>\n    <Typography style={{ display: 'inline' }}>\n      {parseFloat((value || 0).toFixed(1)) + '%'}\n    </Typography>\n  </div>\n);\n\nfunction cancellable(promise, callback) {\n  let cancelled = false;\n  promise\n    .then(data => {\n      if (cancelled) return;\n      callback(null, data);\n    })\n    .catch(error => {\n      if (cancelled) return;\n      callback(error, null);\n    });\n  return function cancel() {\n    cancelled = true;\n  };\n}\n\nclass StatisticsPage extends Component {\n  state = {\n    stats: null,\n    value: 0\n  };\n\n  loadMeals(dateRange, cacheKey, onComplete) {\n    if (this.cancelLoading) {\n      this.cancelLoading();\n      this.cancelLoading = null;\n    }\n\n    let promise;\n\n    if (this[cacheKey]) {\n      promise = Promise.resolve(this[cacheKey]);\n    } else {\n      promise = fetchMeals(dateRange);\n    }\n\n    this.setState({\n      isLoading: true,\n      error: null,\n      meals: null\n    });\n\n    this.cancelLoading = cancellable(promise, (error, meals) => {\n      console.log('got meals', meals);\n      this.setState({\n        error,\n        stats: calculateStats(meals),\n        isLoading: false\n      });\n      this[cacheKey] = meals;\n\n      if (typeof onComplete === 'function') {\n        onComplete(error, meals);\n      }\n    });\n  }\n\n  handleTabClicked = (event, value) => {\n    switch (value) {\n      case 0:\n        this.loadMeals(dateRangeOfToday(), 'today');\n        break;\n      case 1:\n        this.loadMeals(dateRangeOfWeek(), 'week');\n        break;\n      case 2:\n        this.loadMeals(dateRangeOfMonth(), 'month');\n        break;\n      case 3:\n        this.loadMeals(dateRangeOfYear(), 'year', (error, meals) => {\n          if (this.state.goal) {\n            return;\n          }\n\n          database()\n            .user.child('goal')\n            .once('value')\n            .then(snapshot => {\n              if (!this.mounted) {\n                return;\n              }\n\n              const goal = snapshot.val();\n              if (goal) {\n                const numMealsTowardGoal = meals.filter(\n                  meal => meal.type === goal.mealType\n                ).length;\n                console.log(\n                  'numMealsTowardGoal',\n                  numMealsTowardGoal,\n                  meals.length,\n                  goal\n                );\n\n                const numMealsToReachGoal = Math.round(\n                  ((goal.percentage / 100) * meals.length -\n                    numMealsTowardGoal) /\n                    (1 - goal.percentage / 100)\n                );\n\n                this.setState({\n                  numMealsToReachGoal,\n                  goal\n                });\n              }\n            })\n            .catch(error => {\n              if (!this.mounted) {\n                return;\n              }\n              console.error('error fetching goal', error);\n            });\n        });\n        break;\n      default:\n        console.warn('unhandled value', value);\n        break;\n    }\n\n    this.setState({ value });\n  };\n\n  UNSAFE_componentWillMount() {\n    this.mounted = true;\n    this.handleTabClicked(null, 0);\n  }\n  UNSAFE_componentWillUnMount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const stats = this.state.stats || {};\n    const { value, goal, numMealsToReachGoal } = this.state;\n\n    return (\n      <div className='stats-page'>\n        <Typography variant='display1' gutterBottom>\n          Statistics\n        </Typography>\n\n        <Tabs\n          value={value}\n          onChange={this.handleTabClicked}\n          indicatorColor='primary'\n          textColor='primary'\n          scrollable\n          scrollButtons='auto'\n        >\n          <Tab label='Today' />\n          <Tab label='Week' />\n          <Tab label='Month' />\n          <Tab label='Year' />\n        </Tabs>\n\n        <div className='stats-page-chart'>\n          <Statistic title='Junk Food' value={stats.junkFood} />\n          <Statistic title='Meat' value={stats.meat} />\n          <Statistic title='Vegan' value={stats.vegan} />\n          <Statistic title='Vegetarian' value={stats.vegetarian} />\n        </div>\n\n        {goal && numMealsToReachGoal !== undefined ? (\n          <Typography gutterBottom>\n            {`${numMealsToReachGoal} meals to reach ${\n              goal.percentage\n            }% ${capitalizeFirstLetter(goal.mealType)}`}\n          </Typography>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default StatisticsPage;\n","import React, { Component } from 'react';\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  ListSubheader,\n  Divider,\n  Modal,\n  CircularProgress\n} from '@material-ui/core';\nimport { fetchMeals } from '../../model/meal';\nimport EditMeal from '../../components/editMeal';\nimport './index.css';\n\nclass HistoryPage extends Component {\n  state = {\n    sections: null\n  };\n\n  handleMealClicked = meal => () => {\n    this.setState({\n      editMeal: meal\n    });\n  };\n\n  UNSAFE_componentWillMount() {\n    this.mounted = true;\n\n    this.setState({ sections: null, isLoading: true, error: false });\n\n    fetchMeals({ start: 0, end: Date.now(), ascending: false })\n      .then(meals => {\n        if (!this.mounted) {\n          return;\n        }\n\n        this.setMeals(meals);\n        this.setState({ isLoading: false });\n      })\n      .catch(error => {\n        if (!this.mounted) {\n          return;\n        }\n\n        this.setState({ sections: null, isLoading: false, error: true });\n      });\n  }\n\n  handleCloseModal = () => {\n    this.setState({ editMeal: null });\n  };\n\n  handleMealConfirmed = meal => {\n    const sections = (this.state.sections || []).map(section => {\n      section.meals = section.meals.map(m => {\n        // update with new data\n        if (m.id === meal.id) {\n          return meal;\n        }\n\n        return m;\n      });\n      return section;\n    });\n\n    this.setState({ sections, editMeal: null });\n  };\n\n  handleRemoveMeal = meal => {\n    const sections = (this.state.sections || []).map(section => {\n      section.meals = section.meals.filter(m => m.id !== meal.id);\n      return section;\n    });\n\n    this.setState({ sections, editMeal: null });\n  };\n\n  setMeals(meals) {\n    const sections = [];\n\n    meals.forEach(meal => {\n      const date = new Date(meal.date);\n      let section = sections[sections.length - 1];\n\n      if (!section || date.getDate() !== section.date.getDate()) {\n        sections.push({\n          date: date,\n          meals: []\n        });\n        section = sections[sections.length - 1];\n      }\n\n      section.meals.push(meal);\n    });\n\n    this.setState({ sections });\n  }\n\n  UNSAFE_componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const { sections, editMeal, isLoading } = this.state;\n    const showModal = !!editMeal;\n\n    return (\n      <div className='history-page'>\n        <Typography variant='display1' gutterBottom>\n          Meal History\n        </Typography>\n\n        <div>\n          {isLoading ? (\n            <CircularProgress color='secondary' />\n          ) : (\n            <List subheader={<li />}>\n              {sections && sections.length\n                ? sections.map(section => (\n                    <li key={`${section.date}`}>\n                      <ul>\n                        <ListSubheader className='section-header'>\n                          {section.date.toLocaleDateString()}\n                        </ListSubheader>\n                        <Divider />\n\n                        {section.meals.map(meal => (\n                          <ListItem\n                            key={meal.id}\n                            onClick={this.handleMealClicked(meal)}\n                          >\n                            <ListItemText\n                              primary={meal.title}\n                              secondary={meal.type}\n                            />\n                          </ListItem>\n                        ))}\n                      </ul>\n                    </li>\n                  ))\n                : null}\n            </List>\n          )}\n        </div>\n\n        <Modal open={showModal}>\n          <EditMeal\n            meal={editMeal}\n            onRemove={this.handleRemoveMeal}\n            onConfirm={this.handleMealConfirmed}\n            onCancel={this.handleCloseModal}\n          />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default HistoryPage;\n","import React, { Component } from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Icon,\n  Drawer,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  Avatar,\n  Button,\n  Typography\n} from '@material-ui/core';\nimport { auth } from 'firebase';\nimport { withRouter } from 'react-router';\n\nclass MyAppBar extends Component {\n  state = {\n    openMenu: false\n  };\n\n  closeMenu() {\n    this.setState({ openMenu: false });\n  }\n  openMenu() {\n    this.setState({ openMenu: true });\n  }\n  navigateTo(path) {\n    this.closeMenu();\n    this.props.history.replace(path);\n  }\n\n  render() {\n    return (\n      <AppBar position='static'>\n        <Toolbar>\n          <IconButton\n            color='inherit'\n            aria-label='Menu'\n            onClick={() => {\n              this.openMenu();\n            }}\n          >\n            <Icon>menu</Icon>\n          </IconButton>\n          <div>Food Journal</div>\n        </Toolbar>\n\n        <Drawer\n          open={this.state.openMenu}\n          onClose={() => {\n            this.closeMenu();\n          }}\n        >\n          <div tabIndex={0} role='button' onClick={() => {}}>\n            {auth().user ? (\n              <List component='nav'>\n                <ListItem dense button>\n                  <Avatar alt='Remy Sharp' src={auth().user.photoUrl} />\n                  <ListItemText primary={auth().user.displayName} />\n                </ListItem>\n\n                <ListItem\n                  button\n                  onClick={() => {\n                    this.navigateTo('/home');\n                  }}\n                >\n                  <ListItemIcon>\n                    <Icon>today</Icon>\n                  </ListItemIcon>\n                  <ListItemText primary='Today' />\n                </ListItem>\n\n                <ListItem\n                  button\n                  onClick={() => {\n                    this.navigateTo('/history');\n                  }}\n                >\n                  <ListItemIcon>\n                    <Icon>history</Icon>\n                  </ListItemIcon>\n                  <ListItemText primary='History' />\n                </ListItem>\n\n                <ListItem\n                  button\n                  onClick={() => {\n                    this.navigateTo('/statistics');\n                  }}\n                >\n                  <ListItemIcon>\n                    <Icon>bar_chart</Icon>\n                  </ListItemIcon>\n                  <ListItemText primary='Statistics' />\n                </ListItem>\n\n                <ListItem\n                  button\n                  onClick={() => {\n                    this.navigateTo('/settings');\n                  }}\n                >\n                  <ListItemIcon>\n                    <Icon>settings</Icon>\n                  </ListItemIcon>\n                  <ListItemText primary='Settings' />\n                </ListItem>\n              </List>\n            ) : (\n              <div\n                style={{\n                  padding: 20\n                }}\n              >\n                <Typography gutterBottom>You must be logged in.</Typography>\n                <Button\n                  onClick={() => {\n                    this.navigateTo('/');\n                  }}\n                  variant='raised'\n                  color='primary'\n                >\n                  Login\n                </Button>\n              </div>\n            )}\n          </div>\n        </Drawer>\n      </AppBar>\n    );\n  }\n}\n\nexport default withRouter(MyAppBar);\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Route,\n  Redirect,\n  Switch\n} from 'react-router-dom';\nimport LoginPage from './login';\nimport HomePage from './home';\nimport FeedsPage from './feeds';\nimport SettingsPage from './settings';\nimport StatisticsPage from './statistics';\nimport HistoryPage from './history';\nimport AppBar from '../components/appBar';\nimport { auth } from 'firebase';\n\nconst AuthenticatedRoute = props => {\n  if (!auth().user) {\n    return (\n      <Redirect\n        to={{\n          pathname: '/',\n          state: { from: props.location }\n        }}\n      />\n    );\n  }\n\n  return (\n    <div>\n      <AppBar />\n      <Route {...props} />\n    </div>\n  );\n};\n\nexport default () => (\n  <Router>\n    <Switch>\n      <Route exact path='/' component={LoginPage} />\n      <AuthenticatedRoute path='/feeds' component={FeedsPage} />\n      <AuthenticatedRoute path='/home' component={HomePage} />\n      <AuthenticatedRoute path='/statistics' component={StatisticsPage} />\n      <AuthenticatedRoute path='/history' component={HistoryPage} />\n      <AuthenticatedRoute path='/settings' component={SettingsPage} />\n      {/* no match just redirect to login page */}\n      <Route component={LoginPage} />\n    </Switch>\n  </Router>\n);\n","import React, { Component } from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { initializeApp } from 'firebase';\nimport Routes from './routes';\n\nconst theme = createMuiTheme({});\n\nclass App extends Component {\n  state = {};\n\n  UNSAFE_componentWillMount() {\n    initializeApp({\n      apiKey: 'AIzaSyASrQ26OQZNaY9NKmEtOL1O8Uw_SdlAcNg',\n      authDomain: 'food-journal-6eb44.firebaseapp.com',\n      databaseURL: 'https://food-journal-6eb44.firebaseio.com',\n      projectId: 'food-journal-6eb44',\n      storageBucket: '',\n      messagingSenderId: '1056680813971'\n    });\n  }\n\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Routes />\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  // if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n  // TODO change me back\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (process.env.NODE_ENV === 'test') {\n  require('raf').polyfill(global);\n}\n"],"sourceRoot":""}